<!-- edit-Rijin-->


{% extends 'base.html' %}
{% load static %}
{% block content %}

<style>
    .modal {
        z-index: 9999;
        overflow: scroll;
    }


    #selected-area {
        font-size: 20px;
    }

    #tr_data:hover {
        background-color: #757575;
    }

    .dropdown-item:hover {
        color: rgb(226, 149, 5);
    }



    .searchbar,
    .overview .bar {
        align-items: center;
        display: flex;
        justify-content: space-between;
        /* margin: 0 1rem; */
    }

    .searchbar .btn {
        width: 5vw;
        background-color: rgb(28, 117, 233);
        font-size: 1vw;
        color: rgb(255, 255, 255);
    }


    
</style>
<style>
    .modal {
      z-index: 9999;
      overflow: scroll;
    }
  
    .modal-content {
      background-color: #fefefe;
      margin: 15% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
    }
  
    .slip-page {
      background: #ffffff;
      display: block;
      margin: 0 auto;
      position: relative;
      box-shadow: 0 0 0.5cm rgba(0, 0, 0, 0.5);
    }
  
    .slip-page[size="A4"] {
      width: 21cm;
      height: 29.7cm;
      overflow: hidden;
    }
  
    .equal-length-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 100%;
      /* Make the container fill the height of the column */
      margin-left: 2vh;
      margin-right: 2vh;
    }
  
    .equal-length-item {
      flex: 1;
      text-align: center;
    }
  
    body {
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
      padding: 1px;
      margin: 0;
    }
  
    .store-user {
      padding-bottom: 25px;
    }
  
    .store-user p {
      margin: 0;
      font-weight: 600;
      color: #000000;
    }
  
    .store-user .address {
      font-weight: 400;
    }
  
    .store-user h5 {
      color: #22b8d1;
      font-family: 'Rajdhani', sans-serif;
    }
  
    .bb {
      border-bottom: 3px solid #ccc;
    }
  
    .top-content {
      padding-bottom: 15px;
    }
  
    .ribbon .ribbon-inner {
      text-align: center;
      color: #fff;
      top: -20px;
      left: -90px;
      width: 120px;
      padding: 3px;
  
    }
  
    .ribbon .ribbon-open {
      background-color: #268ddd;
      border-color: #1c72b4;
    }
  
    .template .ribbon .ribbon-open {
      background-color: #616263;
      border-color: #616263;
    }
  
    .top-left p {
      margin: 0;
      color: #000000;
    }
  
    .top-left .graphic-path {
      height: 40px;
      position: relative;
    }
  
    .top-left .graphic-path::before {
      content: "";
      height: 20px;
      background-color: #615c60;
      position: absolute;
      left: 15px;
      right: 0;
      top: -15px;
      z-index: 2;
    }
  
    .top-left .graphic-path::after {
      content: "";
      height: 22px;
      width: 17px;
      background: #000000;
      position: absolute;
      top: -13px;
      left: 6px;
      transform: rotate(45deg);
    }
  
    .template3 .top-left .graphic-path::before {
      background-color: #bbbbbb;
    }
  
    .template3 .top-left .graphic-path::after {
      background: #616263b3;
    }
  
    .top-left .graphic-path p {
      height: 40px;
      left: 0;
      right: 0;
      text-transform: uppercase;
      background-color: #22b8d1;
      font: 26px;
      z-index: 3;
      position: absolute;
      padding-left: 10px;
    }
  
    .template3 .top-left .graphic-path p {
      background-color: #616263;
      color: white;
    }
  
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      margin-bottom: 20px;
    }
  
    .logo img {
      max-height: 100px;
    }
  
    .company-info h2 {
      margin: 0;
      font-size: 2em;
    }
  
    .company-info p {
      margin: 0;
      line-height: 1.5;
    }
  
    .i.invoice-box {
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }
  
    .invoice-box h1 {
      font-size: 2em;
      margin-bottom: 20px;
    }
  
    .invoice-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
  
    .invoice-details p,
    .client-details p {
      margin: 5px 0;
    }
  
    table {
      width: 100%;
      border-collapse: collapse;
    }
  
    th,
    td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
  
    #th {
      background-color: #f2f2f2;
      color: black;
    }
  
    .invoice-total {
      margin-top: 20px;
      text-align: right;
    }
  
    .invoice-total p {
      margin: 5px 0;
    }
  
    footer {
      background-color: #fff;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      text-align: center;
      font-size: 0.8em;
      color: #888;
      margin-top: 20px;
    }
  
    footer p {
      margin: 5px 0;
    }
  
    .dropdown-item:hover {
      color: chocolate;
    }
  
    ::-webkit-scrollbar {
      display: none;
    }
  
    .saleordertable {
      border-collapse: collapse;
      /* Collapse table borders */
      border: none;
      /* Remove table border */
    }
  
    .saleordertable td {
      border: none;
      /* Remove cell borders */
      padding: 8px;
      /* Add padding for cell content */
      text-align: left;
      /* Optional: Adjust text alignment */
    }
  
    #producttable {
      border-collapse: collapse;
      /* Collapse table borders */
      border: none;
      /* Remove table border */
      color: white;
    }
  
    #producttable td {
      border: none;
      /* Remove cell borders */
      padding: 8px;
      /* Add padding for cell content */
      text-align: left;
      /* Optional: Adjust text alignment */
    }
  
    tr.clickable {
      cursor: pointer;
    }
  
  
    @media print {
  
      .unwanted,
      .sidebar,
      .sectionhtml {
        display: none !important;
      }
  
      body {
        visibility: hidden !important;
      }
  
      html {
        overflow: hidden ! important;
        visibility: hidden !important;
      }
  
  
      .printContainer {
        visibility: visible !important;
        /* Override the rule above to only show the printables*/
        z-index: 99999;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: auto;
      }
  
  
  
    }
  
    .scrollable-table {
      max-height: 80%;
      /* Maximum height for the tooltip */
      overflow-y: auto;
      /* Add vertical scrollbar when content overflows */
    }
  
    /* Style for the container */
  
  
    /* Style for table cell */
    .table-cell {
      padding: 5px;
    }
  </style>
  


<script>
    function printForm() {
        var selectedArea = document.getElementById("selected-area");

        var printWindow = window.open('', 'PrintWindow', 'height=800,width=800');

        // Check if selectedArea exists
        if (selectedArea) {
            printWindow.document.write('<html><head><title>Print Selected Area</title></head><body>' + selectedArea.innerHTML + '</body></html>');
            printWindow.print();
            printWindow.close();
        } else {
            alert("No content to print!");
        }
    }


</script>


<div class="row">
    <div class="col-md-3">

        <div class="row">

            <div class="header">
                <h5>ALL DELIVERY CHALLAN </h5>
            </div>
            <div class="searchbar py-3">

                <input class="form-control" type="text" placeholder="Search by Name" name="search" id="search"
                    style="color: rgb(255, 255, 255);background: transparent;height: 6vh;">
                <a class="btn btn-outline mx-1" style="color: #ffffff;background-color: rgb(210, 132, 30);height: 5vh;"
                    href="" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" role="button">
                    <i class="fa fa-filter"></i>
                </a>

                <div class="dropdown-menu m-1">
                    <a class="dropdown-item" href="{% url 'delivery_challan_overview' estimate.id %}">All</a>
                    <a class="dropdown-item" href="{% url 'filter_by_draft_chellan_overview' estimate.id %}">Draft</a>
                    <a class="dropdown-item" href="{% url 'filter_by_sent_chellan_overview' estimate.id %}">Sent</a>
                </div>

                <a class="btn btn-outline mx-1" style="color: #fdfdfd;background-color: rgb(210, 132, 30);height: 5vh;"
                    href="{% url 'create_delivery_chellan' %}"><i class="fa fa-plus"></i></a>
                <a class="btn btn-outline mr-1" style="color: #fdfdfd;background-color: rgb(210, 132, 30);height: 5vh;"
                    href="{% url 'create_delivery_chellan' %}"><i class="fa fa-sort"></i></a>
            </div>

            <hr>

        </div>
        <div class="row" style=" overflow-y: scroll; height: 84vh;">
            <div class="col-sm-12 col-lg-12 col-md-12">
                <div class="pt-3 ps-2 " style="height: 600px;">
                    <table class="text-white" style="width: 100%; ">
                        {% for estimate in all_estimates %}
                        <tbody id="table">
                            <tr id="tr_data" class="clickable-row border-bottom" style="cursor: pointer;"
                                data-href="{% url 'delivery_challan_overview' estimate.id %}">
                                <td>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h5 style="color: rgb(218, 143, 5);">{{estimate.customer_name}}</h5>
                                        </div>
                                        <div class="col-md-6 text-right" style="color: rgb(218, 143, 5);">
                                            &#x20B9;{{estimate.total}}.00</div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <p>{{estimate.chellan_no}}</p>
                                        </div>
                                        <div class="col-md-3 text-left">
                                        </div>
                                        <div class="col-md-6 text-right">
                                            <p>{{estimate.status}}</p>
                                        </div>
                                    </div>
                                    <div class="row mt-3">

                                    </div>
                                </td>
                            </tr>

                        </tbody>

                        {% endfor %}
                    </table>

                </div>
            </div>

        </div>

    </div>
    <div class="col-md-9">
        <div class="row">
            <div class="col-md-7">
                <a class="text-white" style="font-size: 1.5rem;">
                    <h2>{{estimate.chellan_no }} </h2>
                </a>
            </div>
        </div>
        <div class="row pb-4">
            <div class="col-md-5">
                <a class="btn" style="background-color: chocolate; margin-right: 2vh;"><i class="fas fa-eye"></i>
                    Overview</a>
                <a href=" " class=" btn fa fa-file-alt" data-bs-toggle="dropdown" id="attachmentDropdown"
                    aria-haspopup="true" aria-expanded="false"
                    style="background-color: white; color: black; margin-right: 2vh;"> Templates
                </a>
                <div class="dropdown-menu" aria-labelledby="attachmentDropdown">
                    <a class="dropdown-item" onclick="totemplate()"><i class="fa fa-file-alt"></i> Template 1</a>

                    <a class="dropdown-item" onclick="totemplate2()"><i class="fa fa-file-alt"></i>
                        Template 2</a>

                    <a class="dropdown-item" onclick="totemplate3()"><i class="fa fa-file-alt"></i>
                        Template 3</a>


                </div>

            </div>
            <style>
                .grp .btn {
                    width: 3.5vw;
                }
            </style>
            <div class="col-md-7 px-0 grp" style="text-align: center;">
                {% if sale.status == "draft" %}
                <a href="" class="btn btn-outline-warning" title="Save">
                    <i class="fa fa-save" aria-hidden="true"></i>
                </a>
                {% endif %}
                <a href="{% url 'delivery_challan_edit' estimate.id %}" class=" text-dark ">
                    <button class="btn btn-outline-warning " title="Edit"><i class="fas fa-edit"></i></button>
                </a>
                <a class="text-dark" data-toggle="dropdown">
                    <button class="btn btn-outline-warning" title="Share"><i class="fas fa-share"></i></button>
                </a>
                <div class="dropdown-menu ">
                    <a class="dropdown-item" data-target="#shareBillEmail" data-toggle="modal">GMAIL</a>
                    <a class="dropdown-item" href="javascript:void(0);" onclick="shareOnWhatsApp()">WhatsApp</a>
                </div>
                <a href="{% url 'deletechallan' estimate.id %}" class="  text-dark">
                    <button class="btn btn-outline-warning" title="Delete"><i class="fas fa-trash-alt"></i></button>
                </a>
                <a class="  text-dark" onclick="exportToPDF()">
                    <button class="btn btn-outline-warning" title="Pdf"><i class="fas fa-file-pdf-o"></i></button>
                </a>
                <a class=" text-dark" onclick="printSelectedArea()">
                    <button class="btn btn-outline-warning" title="Print"><i class="fas fa-print"></i>
                    </button>
                </a>
                <a class=" text-dark" data-bs-toggle="dropdown" id="commentDropdown" aria-haspopup="true"
                    aria-expanded="false">
                    <button class="btn btn-outline-warning" title="comment"><i class="fas fa-comment-dots"></i>
                    </button>
                </a>


                <div class="dropdown-menu" aria-labelledby="commentDropdown">
                    <a class="dropdown-item" style="cursor: pointer;" data-toggle="modal" data-target="#cmnts"><i
                            class="fa-solid fa fa-plus"></i>Add</a>
                    <a class="dropdown-item" style="cursor: pointer;" data-toggle="modal" data-target="#cmt_list"><i
                            class="fas fa-list"></i>&nbsp;View List</a>

                </div>
                <a class=" text-dark" data-bs-toggle="dropdown" id="attachDropdown" aria-haspopup="true"
                    aria-expanded="false" >
                    <button class="btn btn-outline-warning" title="attachment"><i class="fas fa-paperclip"></i>
                    </button>
                </a>
                <div class="dropdown-menu" aria-labelledby="attachDropdown" style="width: 15vw;">
                    {% if estimate.attachment %}
                    <a class="dropdown-item" style="cursor: pointer;" href="{% url 'dl_attach_download' estimate.id %}">
                        <button class="btn btn-warning w-100"><i class="fa fa-download"></i>Download</button>
                    </a>
                    {% else %}
                    <a class="dropdown-item" style="cursor: pointer;">
                        <label for="file-input" type="button" class="btn btn-warning w-100"><i class="fa fa-upload"></i>Upload
                            <!-- <button class="btn btn-warning w-100"></button> -->

                        </label>
                                        <input id="file-input" type="file" name="file" style="display:none;"
                                        onchange="uploadFile()">
                    </a>

                    {% endif %}
                </div>
                <script>
                     function getCookie(name) {
                    var cookieValue = null;
                    if (document.cookie && document.cookie !== '') {
                        var cookies = document.cookie.split(';');
                        for (var i = 0; i < cookies.length; i++) {
                            var cookie = cookies[i].trim();
                            // Check if the cookie name matches the CSRF cookie name
                            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                                break;
                            }
                        }
                    }
                    return cookieValue;
                }
                        function uploadFile() {
                            console.log("enter");
                    const fileInput = document.getElementById("file-input");
                    const file = fileInput.files[0];
                    const csrfToken = getCookie('csrftoken')

                    const formData = new FormData();
                    formData.append("file", file);

                    fetch("/dl_attach_upload/{{ estimate.id }}", {
                        method: "POST",
                        headers: { 'X-CSRFToken': csrfToken },
                        body: formData
                    })
                    // window.location.href = '/delivery_chellan_overview';


                }
                </script>
                <a class="text-dark" onclick="show_slip()">
                    <button class="btn btn-outline-warning" title="Slip"><i class="fas fa-receipt"></i></button></a>
            </div>
        </div>
        <!-- =============================== new overview -->
        <div class="row" id="div-to-pdf"
        style="background-color: #ffddb0;  height: auto; margin-left:1px; ">

        <div class="row text-center">
          <h2 style="color: #000000;"><br>DELIVERY CHALLAN
            <hr>
          </h2>
        </div>
    
        
        <div class="gen-info col-6 " style="padding-left: 2rem; ">
            
            <div class="row mt-1">
                <div class="col-5"><label class="text-dark" for="">Status :</label></div>
                <div class="col-7">
                  <h4 class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">{{estimate.status}}</h4>
                </div>
              </div>
            
          <div class="row mt-2">
            <div class="col-5"><label class="text-dark" for="">Delivery Challan No :</label></div>
            <div class="col-7">
              <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">{{estimate.chellan_no}}</p>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-5"><label class="text-dark" for="">Reference :</label></div>
            <div class="col-7">
              <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">{{estimate.reference}}</p>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-5"><label class="text-dark" for="">Challan Type :</label></div>
            <div class="col-7">
              <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">
                {{estimate.chellan_type}}</p>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-5"><label class="text-dark" for="">Challan Date :</label></div>
            <div class="col-7">
              <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">
                {{estimate.chellan_date | date:"d/m/Y"}}</p>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-5"><label class="text-dark" for="">GST Treatment :</label></div>
            <div class="col-7">
              <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">
                {{estimate.cu.GSTTreatment}}</p>
            </div>
          </div>
          {% if estimate.cu.GSTIN != 'null' %}
          <div class="row mt-3">
            <div class="col-5"><label class="text-dark" for="">GST Number :</label></div>
            <div class="col-7">
              <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">{{estimate.cu.GSTIN}}
              </p>
            </div>
          </div>
          {% endif %}
          <div class="row mt-3">
            <div class="col-5"><label class="text-dark" for="">Source of Supply :</label></div>
            <div class="col-7">
              <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">{{estimate.cu.placeofsupply}}</p>
            </div>
          </div>
          
          <div class="row mt-3">
            <div class="col-5"><label class="text-dark" for="">Converted to :</label></div>
            <div class="col-7">
                {% if estimate.to_inv != 'Convert to invoice' %}
              <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">Invoice </p>
              {% endif %}
              {% if estimate.to_recinv != 'Convert to reccuring invoice' %}
              <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">Reccuring Invoice</p>
              {% endif %}
              {% if estimate.to_inv == 'Convert to invoice' and estimate.to_recinv == 'Convert to reccuring invoice' %}
              <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">Not Converted </p>
              {% endif %}
            </div>
          </div>
          
          
        </div>
        <div class="p-info col-6" style="height: 100%; margin-bottom: 1vh;">
          <div class="card" style="background-color: rgb(110, 61, 46); padding-left: 1rem; padding-top: 1rem;">
            <div class="row mt-1">
                <div class="col-md-6 " >
                    <h3 style="text-transform: uppercase;">{{ company.company_name }}</h3>
                    <h6>{{ company.address }}</h6>
                    <h6>{{ company.city }},{{ company.state }}</h6>
                </div>
            </div><hr>
            <div class="row text-center">
              <h4>CUSTOMER INFORMATION
                <hr>
              </h4>
            </div>

                
            <div class="row mt-2">
              <div class="col-5"><label for="">Customer Name :</label></div>
              <div class="col-7">
                <p class="bold">{{ estimate.cu.customerName }}</p>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-5"><label for="">Email :</label></div>
              <div class="col-7">
                <p class="bold">{{estimate.cu.customerEmail }} </p>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-5"><label for="">Phone :</label></div>
              <div class="col-7">
                <p class="bold">{{estimate.cu.customerMobile }}</p>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-5"><label for="">Address :</label></div>
              <div class="col-7">
                <p class="bold">{{estimate.cu.Address1 }}</p>
              </div>
            </div>

            
          </div><br>
        </div>
        <div class="row"  style="padding-left: 2rem; ">
            <table class="table">
                <thead>
                    <tr>
                        <th style="color: black;font-weight: bold;text-align: center;">#</th>
                        <th style="width: 10rem;color: black;font-weight: bold;text-align: center;">Product
                        </th>
                        <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                            HSN</th>
                        <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                            Quantity</th>
                        <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                            Price</th>
                        <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                            Discount</th>

                        <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                            Tax%</th>
                        <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                            Total</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in items %}
                    <tr>
                        <td style="color: black; text-align: center;">{{ forloop.counter}}</td>
                        <td style="width: 10rem; color: black;  text-align: center;">{{item.item_name }}</td>

                        
                        <td class="text-right" style="color: black; text-align: center;">
                            {{ item.hsn }}</td>
                        <td class="text-right" style="color: black; text-align: center;">
                            {{ item.quantity }}</td>
                        <td class="text-right" style="color: black; text-align: center;">
                            {{ item.rate|floatformat:1 }}</td>
                        <td class="text-right" style="color: black; text-align: center;">
                            {{ item.discount|floatformat:1 }}</td>

                        <td class="text-right" style="color: black; text-align: center;">
                            {{ item.tax_percentage }}</td>
                        <td class="text-right" style="color: black; text-align: center;">
                            {{ item.amount|floatformat:1 }}</td>
                    </tr>
                    {% endfor %}

                </tbody>
            </table>
        </div>
        <!-- <div class="row text-center"> -->
            <div class="col-6" style="padding-left: 2rem;">
                <div class="row mt-5">
                    <div class="col-5"><label class="text-dark" for="">Notes :</label></div>
                    <div class="col-7">
                      <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">{{estimate.customer_notes}}</p>
                    </div>
                  </div>

                  <div class="row mt-5">
                    <div class="col-5"><label class="text-dark" for="">T&C :</label></div>
                    <div class="col-7">
                      <p class="bold text-dark" style="max-width: 15rem;word-wrap: break-word;">{{estimate.terms_conditions}}</p>
                    </div>
                  </div>
            </div>
        <div class="col-6 mt-3" style="height: 100%; margin-bottom: 1vh;">
            <div class="card" style="background-color: rgb(110, 61, 46); padding-left: 1rem; padding-top: 1rem;">

            
            
          <div class="row mt-3">
            <div class="col-6"><label class="" for="">Subtotal :</label></div>
            <div class="col-6">
              <p class="bold " style="font-weight:bold; max-width: 15rem;word-wrap: break-word;">{{estimate.sub_total}}</p>
            </div>
          </div>
          {% if estimate.cu.place_of_supply == company.state %}
          <div class="row mt-2">
            <div class="col-6"><label class="" for="">IGST :</label></div>
            <div class="col-6">
              <p class="bold " style="font-weight:bold; max-width: 15rem;word-wrap: break-word;">{{estimate.igst}}</p>
            </div>
          </div>
          
          {% else %}
          <div class="row mt-2">
            <div class="col-6"><label class="" for="">CGST :</label></div>
            <div class="col-6">
              <p class="bold " style="font-weight:bold; max-width: 15rem;word-wrap: break-word;">{{estimate.cgst}}</p>
            </div>
          </div>
          
          <div class="row mt-2">
            <div class="col-6"><label class="" for="">SGST :</label></div>
            <div class="col-6">
              <p class="bold " style="font-weight:bold; max-width: 15rem;word-wrap: break-word;">{{estimate.sgst}}</p>
            </div>
          </div>
          {% endif %}
          <div class="row mt-2">
            <div class="col-6"><label class="" for="">Tax Amount :</label></div>
            <div class="col-6">
              <p class="bold " style="font-weight:bold; max-width: 15rem;word-wrap: break-word;">{{estimate.tax_amount}}</p>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-6"><label class="" for="">Shipping Charge :</label></div>
            <div class="col-6">
              <p class="bold " style="font-weight:bold; max-width: 15rem;word-wrap: break-word;">{{estimate.shipping_charge}}</p>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-6"><label class="" for="">Adjustment :</label></div>
            <div class="col-6">
              <p class="bold " style="font-weight:bold; max-width: 15rem;word-wrap: break-word;">{{estimate.adjust}}</p>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-6"><label class="" for="">Total Amount :</label></div>
            <div class="col-6">
              <p class="bold " style="font-weight:bold; max-width: 15rem;word-wrap: break-word;">{{estimate.total}}</p>
            </div>
          </div>
         
          <div class="row mt-2">
            <div class="col-6"><label class="" for="">Balance Amount :</label></div>
            <div class="col-6">
              <p class="bold " style="font-weight:bold; max-width: 15rem;word-wrap: break-word;">{{estimate.balance}}</p>
            </div>
          </div>
         
        </div>
    <!-- </div> -->
    </div>
      </div>

<!-- =============================== new template1 -->
        <div class="row mt-3 template2 whatToPrint2" style="height: auto;width: 100%; margin-left:1px">

            <section id="selected-area" style="background-color: rgb(255, 221, 176);height: auto;" class=" p-2 m-2">
            <header style="	background-color: #8b3131;border-radius: 1rem;">
                <div class="logo ">
                <img class="ml-2" width="100rem" style="border-radius: 50%;" src="{% static 'images/zlogo.png' %}"
                    alt="Company Logo">
                </div>
                <div style="background: #8b3131;color: white;" class="company-info">
                <h2 class="text-white">{{company.company_name}}</h2>
                <p class="text-white"> {{company.address}}<br>{{company.city}}</p>
                <p> {{company.contact_number}}</p>
                <p>{{company.company_email}}</p>
                </div>
            </header>
            <div class="invoice-box">
                <h1 class="text-dark">SalesOrder</h1>
                <div class="invoice-header">
                <div class="invoice-details text-dark">
                    <table>
                    <tr>
                        <td class="table-cell text-black" style="border: none;">Sales No#</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.sales_no}}</td>
                    </tr>
                    <tr>
                        <td class="table-cell text-black" style="border: none;">Sales Order Date</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.sales_date}}</td>
                    </tr>
                    <tr>
                        <td class="table-cell text-black" style="border: none;">Expiry Date</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.ship_date}}</td>
                    </tr>
                    </table>
                </div>
                <div class="client-details" style="width: 50vh;">
                    <table>
                    <tr>
                        <td class="table-cell text-black" style="border: none;"><b>{{sale.customer.customerName}}</b>
                        </td>
                    </tr>
                    {% if sale.customer.Address1 %}
                    <tr>
                        <td class="table-cell text-black" style="border: none;">{{sale.customer.Address1}}</td>
                    </tr>
                    {% endif %}
                    <tr>
                        <td class="table-cell text-black" style="border: none;">{{sale.customer.GSTTreatment}}</td>
                    </tr>
                    {% if sale.customer.GSTIN %}
                    <tr>
                        <td class="table-cell text-black" style="border: none;">{{sale.customer.GSTIN}}</td>
                    </tr>
                    {% endif %}
                    </table>
                </div>
                </div>

                <table>
                <thead>
                    <tr>

                    <th id="th" style="text-align: center;">Product</th>
                    <th id="th" style="text-align: center;">HSN</th>
                    <th id="th" style="text-align: center;">Quantity</th>
                    <th id="th" style="text-align: center;">Price</th>
                    <th id="th" style="text-align: center;">Discount</th>
                    <th id="th" style="text-align: center;">Tax %</th>
                    <th id="th" style="text-align: center;"> Total</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in saleitem %}
                    <tr style="color: black;">
                    <td style="text-align: center;">{{i.product}}</td>
                    <td style="text-align: center;">{{i.hsn}}</td>
                    <td style="text-align: center;">{{i.quantity}}</td>
                    <td style="text-align: center;">{{i.rate}}</td>
                    <td style="text-align: center;">{{i.desc}}</td>
                    <td style="text-align: center;">{{i.tax}}</td>
                    <td style="text-align: center;">{{i.total}}</td>
                    </tr>
                    {% endfor %}

                </tbody>
                </table><br>

                <div class="invoice-total">
                <div class="row">
                    <div class="col-6"></div>


                    <div class="col-4">
                    <table style="margin-left: 10vh;">
                        <tr>
                        <td class="table-cell text-black" style="border: none;">Subtotal</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;"><b>{{sale.subtotal}}</b></td>
                        </tr>
                        {% if sale.igst != '0.00' %}
                        <tr>
                        <td class="table-cell text-black" style="border: none;">IGST</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.igst}}</td>
                        </tr>
                        {% else %}
                        <tr>
                        <td class="table-cell text-black" style="border: none;">SGST</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.sgst}}</td>
                        </tr>
                        <tr>
                        <td class="table-cell text-black" style="border: none;">CGST</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.cgst}}</td>
                        </tr>
                        {% endif %}
                        <tr>
                        <td class="table-cell text-black" style="border: none;">Tax Amount</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.t_tax}}</td>
                        </tr>
                        <tr>
                        <td class="table-cell text-black" style="border: none;">Shipping Charge</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.sh_charge}}</td>
                        </tr>
                        <tr>
                        <td class="table-cell text-black" style="border: none;">Adjustment</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.adjust}}</td>
                        </tr>
                        {% if sale.advance != 0.0 %}
                        <tr>
                        <td class="table-cell text-black" style="border: none;">Advance</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.advance}}</td>
                        </tr>

                        {% endif %}
                        <tr>
                        <td class="table-cell text-black" style="border: none;">Total</td>
                        <td class="table-cell text-black" style="border: none;">:</td>
                        <td class="table-cell text-black" style="border: none;">{{sale.grandtotal}}</td>
                        </tr>
                    </table>
                    </div>

                </div>

                </div>

            </div>

            <footer class="mb-5">
                <p class="text-dark">&copy; Zho Books 2023 | Info park kakkanad kochi, Ernamkulam, kerala India 12345
                | Phone: (123) 456-7890 | Email: info@zohodjango.com</p>
            </footer>
            </section>
        </div>
        <!-- .................................................................................. -->

        <div id="selected-area">
            <div id="div_estimate" class="mx-2 my-4 p-4 "
                style="background-color: rgba(124, 124, 123, 0); height: 1200px;">

                <div class="slip p-5 convert_to_pdf " id="whatToPrint" style="height: auto;background-color: burlywood">
                    <div class="row ">
                        <div class="col-md-6 ">
                            <h2 class="text-dark" style="text-transform: uppercase;">{{ company.company_name }}</h2>
                            <h6 class="text-dark">{{ company.address }}</h6>
                            <h6 class="text-dark">{{ company.city }},{{ company.state }}</h6>
                        </div>
                        <div class="col-md-6 text-right">
                            <h1 class="text-dark" style="font-size: 2rem; ">DELIVERY CHALLAN</h1>
                            <h6 class="text-dark">Delivery Challan Number : {{estimate.chellan_no }}</h6>
                        </div>
                        <div class="bar pt-2 pb-4">
                            <div class="left" style="font-size: 1rem;font-weight: 600;"> {{p.designation}}
                                <h6 class="text-dark">Client :</h6>
                                <h6 style="color: #000000;font-weight: bold">
                                    <div class="text-uppercase">{{ estimate.cu.customerName }} </div><span
                                        class="text-dark" style="color: rgb(0, 0, 0);font-weight: bold">{{
                                        estimate.cu.customerEmail }}</span> <br><span class="text-dark">{{
                                        estimate.cu.customerMobile }}</span>
                                </h6>
                            </div>
                            <div class="right" style=" color: #000000; font-size: 1rem;">Order No
                                &nbsp;&nbsp;&nbsp;&nbsp; : {{ estimate.chellan_no }} <br> Challan Date&nbsp;:
                                {{estimate.chellan_date}} </div>
                        </div>


                        <table class="table  " style="border-color: black;">
                            <thead>
                                <tr>
                                    <th style="color: black;font-weight: bold;text-align: center;">#</th>
                                    <th style="width: 10rem;color: black;font-weight: bold;text-align: center;">Product
                                    </th>
                                    <!-- <th class="text-right;" style="color: black;font-weight: bold;">Hsn</th> -->
                                    <!-- <th class="text-right;" style="color: black;font-weight: bold;">Description</th> -->
                                    <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                                        HSN</th>
                                    <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                                        Quantity</th>
                                    <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                                        Price</th>
                                    <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                                        Discount</th>

                                    <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                                        Tax%</th>
                                    <th class="text-right;" style="color: black;font-weight: bold;text-align: center;">
                                        Total</th>
                                </tr>

                            </thead>
                            <tbody>
                                {% for item in items %}
                                <tr>
                                    <td style="color: black;font-weight: bold; text-align: center;">{{ forloop.counter}}</td>
                                    <td style="width: 10rem; color: black; font-weight: bold; text-align: center;">{{ item.item_name }}</td>

                                    <!-- <td class="text-right">{{ item.hsn }}</td> -->
                                    <!-- <td class="text-right">{{ item.desc }}</td> -->


                                    <td class="text-right" style="color: black;font-weight: bold; text-align: center;">
                                        {{ item.hsn }}</td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: center;">
                                        {{ item.quantity }}</td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: center;">
                                        {{ item.rate|floatformat:1 }}</td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: center;">
                                        {{ item.discount|floatformat:1 }}</td>

                                    <td class="text-right" style="color: black;font-weight: bold; text-align: center;">
                                        {{ item.tax_percentage }}</td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: center;">
                                        {{ item.amount|floatformat:1 }}</td>
                                </tr>
                                {% endfor %}

                            </tbody>
                        </table>
                        <div class="gen-info col-6 " style="padding-left: 3rem;">
                            <table class="table ">
                                <tr>
                                    <td class="text-dark" style="font-weight: bold;">Sub-Total:</td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: end;"
                                        style="">{{ estimate.sub_total|floatformat:1 }}</td>
                                </tr>
                                {% if estimate.cgst|floatformat:1 != 0|floatformat:1 %}
                                <tr>
                                    <td class=" text-dark" style="color: black;font-weight: bold;">CGST:</td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: end;">{{
                                        estimate.cgst|floatformat:1 }}</td>
                                </tr>
                                {% endif %}

                                {% if estimate.sgst|floatformat:1 != 0|floatformat:1 %}
                                <tr>
                                    <td class="text-dark" style="color: black;font-weight: bold;">SGST:</td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: end;">{{
                                        estimate.sgst|floatformat:1 }}</td>
                                </tr>
                                {% endif %}

                                {% if estimate.igst|floatformat:1 != 0|floatformat:1 %}
                                <tr>
                                    <td class="text-dark" style="color: black;font-weight: bold;">IGST:</td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: end;">{{
                                        estimate.igst|floatformat:1 }}</td>
                                </tr>
                                {% endif %}
                                <tr>
                                    <td class="text-dark" style="color: black;font-weight: bold;">TAX:</td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: end;">{{
                                        estimate.tax_amount}}</td>
                                </tr>
                                {% if estimate.shipping_charge != 0 %}
                                <tr>
                                    <td class="text-dark" style="color: black;font-weight: bold;">Shipping Charge:</td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: end;">{{
                                        estimate.shipping_charge }}</td>
                                </tr>
                                {% endif %}
                                {% if estimate.adjustment != 0 %}
                                <tr>
                                    <td class="text-dark" style="color: black;font-weight: bold;">Adjustment Charge:
                                    </td>
                                    <td class="text-right" style="color: black;font-weight: bold; text-align: end;">{{
                                        estimate.adjustment|floatformat:1}}</td>
                                </tr>
                                {% endif %}


                                <tr>

                                    <td class="text-right" style="color: black;font-weight: bold;">Total:</td>

                                    <td class="text-right " style="color: black;font-weight: bold; text-align: end;">{{
                                        estimate.total|floatformat:1}}</td>
                                </tr>



                            </table>
                            <div class="row">
                                <div class="col-6">
                                    <p class="m-0 font-weight-bold" style="color:black">Customer Note:
                                        {{estimate.customer_notes}}</p>
                                    <div class="col-6">
                                        <label>
                                            <p class="m-0 font-weight-bold" style="color:black "> </p>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <p class="m-0 font-weight-bold" style="color:black">Terms & Conditions:
                                        {{estimate.terms_conditions}}</p>
                                    <p style="color:black"></p>
                                </div>
                            </div>

                        </div>
                        <div class="p-info col-6 my-2" style="height: auto;">
                            <div class="card" style=" padding:0.9rem;">

                                <div class="row">

                                    <div class="col-4"><label for="">Place of Supply:</label></div>
                                    <div class="col-8">
                                        <p>{{ estimate.cu.placeofsupply }}</p>

                                    </div>
                                    <hr>

                                    <div class="row my-2">
                                        <h4>Delivery Challan Details</h4>
                                    </div>

                                    <div class="row">

                                        <div class="col-6"><label for="">Challan Date:</label></div>
                                        <div class="col-6">
                                            <label>
                                                <p>{{ estimate.chellan_date|date:"d/m/Y" }}</p><label>
                                        </div>


                                        <div class="row">

                                            <div class="col-6"><label for="">Challan Type:</label></div>
                                            <div class="col-6">
                                                <label>
                                                    <p>{{ estimate.chellan_type}}</p>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="row my-2"><label>
                                                <h4>GST Details</h4>
                                            </label></div>

                                        <div class="row">

                                            <div class="col-6"><label for="">GST Treatment:</label></div>

                                            <div class="col-6 text-uppercase">

                                                <label>
                                                    <p>{{ estimate.cu.GSTTreatment }}</p>
                                                </label>

                                            </div>

                                            {% if estimate.cu.GSTTreatment != "Unregistered Business-not Registered under GST" %}
                                            <div class="row">

                                                <div class="col-6"><label for="">GST Number:</label></div>

                                                <div class="col-6 text-uppercase">

                                                    <label>
                                                        <p>{{ estimate.cu.GSTIN }}</p>
                                                    </label>

                                                </div>

                                                {% endif %}





                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>


                    </div>

                </div>

            </div>




        </div>
    </div>
</div>

<!-- comment modal -->

<div class="modal fade " id="cmnts"
    style="width: 750px; margin-left: 350px; justify-content: center; overflow: hidden;">
    <div class="modal-dialog modal-xl m-5 p-5">
        <div class="modal-content" style="background: rgb(32, 35, 37);border-radius: 20px;">
            <div class="modal-header " style="background: rgb(32, 35, 37);">
                <h5 class="m-3 text-uppercase text-light">Enter Comment</h5>
                <button type="button" class="close text-dark bg-none" data-dismiss="modal"
                    aria-label="Close">&times;</button>

            </div>
            <div class="modal-body" style="background: rgb(32, 35, 37); justify-content: center; overflow: hidden;">
                <div class="card p-0 m-0">
                    <form action="{% url 'add_delivery_chellan_comment' estimate.id %}" method="post"
                        class="needs-validation" novalidate autocomplete="off" id="modalComment">
                        {% csrf_token %}
                        <div class="row mt-2">
                            <div class="col-md-6 mt-2">
                                <textarea class="form-control text-dark bg-light" id="comment" name="comments" required
                                    style="height: 200px; width: 520px;"></textarea>
                            </div>
                        </div>

                        <div class="row mt-5">
                            <div class="col-md-4"></div>
                            <div class="col-md-4">
                                <div class="d-flex">
                                    <button class="btn save_btn rounded-pill text-grey w-50 my-4 mx-3"
                                        type="submit">Save </button>
                                    <button type="button" class="close btn save_btn rounded-pill text-grey w-50 my-4"
                                        data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">Cancel</span>
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-4"></div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>
</div>



<!-- ....................................  comment list modal ................ -->

<div class="modal fade " id="cmt_list"
    style="width: 750px; margin-left: 350px; justify-content: center; overflow: hidden;">
    <div class="modal-dialog modal-dialog-scrollable modal-xl m-5 p-5">
        <div class="modal-content" style="background: rgb(32, 35, 37);border-radius: 20px;">
            <div class="modal-header " style="background: rgb(32, 35, 37);">
                <h5 class="m-3 text-uppercase text-light">all comments</h5>
                <button type="button" class="close text-dark bg-none" data-dismiss="modal"
                    aria-label="Close">&times;</button>

            </div>
            <div class="modal-body" style="background: rgb(32, 35, 37); justify-content: center; overflow-x: hidden;">
                <div class="card p-0 m-0">

                    <div class="row mt-3">
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <div class="p-2">
                                <table class="table" style="table-layout: fixed;">
                                    
                                    {% for comt in comments %}
                                    <tbody>
                                        <tr class="text-center">
                                            <!-- <td><input type="text" value="{{ comt.comments }}" style="width: 100%;height: 20px;"></td> -->
                                            <td>{{forloop.counter}}</td>
                                            <td>{{ comt.comments }}
                                            </td>
                                            <td> <a class="text-warning" href=""><i class="fa fa-trash" aria-hidden="true"></i></a></td>
                                        </tr>
                                    </tbody>
                                    {% endfor %}
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>
</div>




<!-- .....................................................................................................        -->
<!--         
            <div class="slip p-5 mx-1 convert_to_pdf bg-light" id="selected-area"
                style="box-shadow: 5px 5px 10px rgb(45, 45, 45);">
               
                

                <div class="row ">
                    <div class="col-sm-6 ">
                        <h4 class="text-dark" style="text-transform: uppercase;">{{ company.company_name }}</h4>
                        <h6 class="text-dark">{{ company.address }}</h6>
                        <h6 class="text-dark">{{ company.city }},{{ company.state }}</h6>
                    </div>
                    <div class="col-sm-6" style="text-align: right;">
                        <h1 class="text-dark" style="font-size: 1.2rem; ">Delivery Challan</h1>
                        <h6 class="text-dark">DC-{{estimate.chellan_no }}</h6>
                    </div>
                </div>
                <hr>
                <div class="row ">
                    <div class="col-sm-6 mt-auto">
                        <h6 class="text-dark">Bill To</h6>
                        <h6 class="text-dark">{{ estimate.customer_name }}</h6>
                    </div>
                    <div class="col-sm-6  mt-auto" style="text-align: right;">
                        <h6 class="text-dark ">Date : {{ estimate.chellan_date }}</h6>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <table class="table mt-2" style="border-color: black; color: black;">
                            <thead class="bg-secondary text-white">
                                <tr>
                                    <th class="text-center text-dark" style="width: 200px;">#</th>
                                    <th class="text-center text-dark" style="width: 200px;">Item</th>
                                    <th class="text-center text-dark" style="width: 200px;">Quantity</th>
                                    <th class="text-center text-dark" style="width: 200px;">Rate</th>
                                    <th class="text-center text-dark" style="width: 200px;">Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in items %}
                                <tr> 
                                    
                                    <td  class="text-center" style="text-align: center">{{ forloop.counter }}</td>
                                    <td class="text-center" style="text-align: center">{{ item.item_name }}</td>
                                    <td class="text-center" style="text-align: center">{{ item.quantity }}</td>
                                    <td class="text-center" style="text-align: center">{{ item.rate|floatformat:3 }}</td>
                                    <td class="text-center" style="text-align: center">{{ item.amount|floatformat:3 }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>

                    </div>
                </div>
                
                <div class="row" >
                    <div class="col-sm-6" style="padding-left: 75%;  margin-top: 1%;">
                        <table class="table" style="color: black">
                            <tr>
        
                                <td class="text-right">Sub-Total:</td>
                                <td class="text-right">{{ estimate.sub_total|floatformat:3}}</td>
                            </tr>
                            {% if estimate.cgst != 0 %}
                            <tr>
                                <td class="text-right">CGST:</td>
                                <td class="text-right">{{ estimate.cgst|floatformat:3}}</td>
                            </tr>
                            {% endif %}
                            {% if estimate.sgst != 0 %}
                            <tr>
                                <td class="text-right">SGST:</td>
                                <td class="text-right">{{ estimate.sgst|floatformat:3}}</td>
                            </tr>
                            {% endif %}
                            {% if estimate.igst != 0 %}
                            <tr>
        
                                <td class="text-right">IGST:</td>
                                <td class="text-right">{{ estimate.igst|floatformat:3}}</td>
                            </tr>
                            {% endif %}
                            {% if estimate.shipping_charge != 0 %}
                            <tr>
        
                                <td class="text-right">Shipping Charge:</td>
                                <td class="text-right">{{ estimate.shipping_charge|floatformat:3}}</td>
                            </tr>
                            {% endif %}
                            {% if estimate.adjustment != 0 %}
                            <tr>
        
                                <td class="text-right">Adjustment:</td>
                                <td class="text-right">{{ estimate.adjustment|floatformat:3}}</td>
                            </tr>
                            {% endif %}
                            <tr>
        
                                <td class="text-right">Total:</td>
                                <td class="text-right">{{ estimate.total|floatformat:3}}</td>
                            </tr>
        
                        </table>
                    </div>
                </div>
                
                <div class="row mt-3">
                    <div class="col-sm-6" style="text-align: justify;">
                        <p class="m-0 font-weight-bold" style="color:black">Customer Note : </p>
                        <p style="color:black">{{estimate.customer_notes}}</p>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-sm-6" style="text-align: justify;">
                        <p class="m-0 font-weight-bold" style="color:black">Customer Note : </p>
                        <p style="color:black">{{estimate.customer_notes}}</p>
                    </div>
                </div>


            </div> -->


</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
<script>
    // Add click event listener to all rows with class "clickable-row"
    const rows = document.querySelectorAll('.clickable-row');
    rows.forEach(row => {
        row.addEventListener('click', () => {
            // Get the URL from the "data-href" attribute
            const url = row.getAttribute('data-href');
            // Navigate to the URL
            window.location.href = url;
        });
    });
</script>

<script>
    var $rows = $('#table tr');
    $('#search').keyup(function () {
        var val = $.trim($(this).val()).replace(/ +/g, ' ').toLowerCase();

        $rows.hide().filter(function () {
            var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
            return ~text.indexOf(val);
        }).show();
    });

</script>

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>



{% endblock %}